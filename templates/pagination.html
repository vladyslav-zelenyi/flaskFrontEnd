<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    {% if current_page > 1 %}
      <li class="page-item">
        <a class="page-link" href="?page=1" aria-label="First">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      <li class="page-item">
        <a class="page-link" href="?page={{ current_page - 1 }}&limit={{ limit }}"
           aria-label="Previous">
          <span aria-hidden="true">&lsaquo;</span>
        </a>
      </li>
    {% endif %}

    {% for page_num in range(1, pages + 1) %}
      {% if page_num == 1 %}
        <li class="page-item {% if page_num == current_page %}active{% endif %}">
          <a class="page-link"
             href="?page={{ page_num }}&limit={{ limit }}">{{ page_num }}</a>
        </li>
      {% elif page_num == pages %}
        <li class="page-item {% if page_num == current_page %}active{% endif %}">
          <a class="page-link"
             href="?page={{ page_num }}&limit={{ limit }}">{{ page_num }}</a>
        </li>
      {% elif current_page - 1 <= page_num <= current_page + 1 %}
        <li class="page-item {% if page_num == current_page %}active{% endif %}">
          <a class="page-link"
             href="?page={{ page_num }}&limit={{ limit }}">{{ page_num }}</a>
        </li>
      {% elif page_num == current_page - 2 or page_num == current_page + 2 %}
        <li class="page-item">
          <a class="page-link">...</a>
        </li>
      {% endif %}
    {% endfor %}

    {% if current_page < pages %}
      <li class="page-item">
        <a class="page-link"
           href="?page={{ current_page + 1 }}&limit={{ limit }}"
           aria-label="Next">
          <span aria-hidden="true">&rsaquo;</span>
        </a>
      </li>
      <li class="page-item">
        <a class="page-link" href="?page={{ pages }}&limit={{ limit }}"
           aria-label="Last">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    {% endif %}
  </ul>
</nav>
